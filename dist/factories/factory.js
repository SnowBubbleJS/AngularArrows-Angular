"use strict";function output(t,o,r){var e={html:"",partial:"",app:"",controller:"",factory:"",source:"",url:"http://www.localhost:3000/",prepareSource:function(t){var o=this.html;t&&(o=o.replace(/<body([\s\S]*)\/body>/,"<body ui-view>"+this.partial+"<body>"));var r="<script>"+this.app+"</script>";o=o.replace("</body>",r+"</body>");var e="<script>"+this.controller+"</script>";o=o.replace("</body>",e+"</body>");var c="<script>"+this.factory+"</script>";return o=o.replace("</body>",c+"</body>")},render:function(){var o=document.querySelector("#output iframe");if("http://www.localhost:3000/"===this.url||"http://www.localhost:3000"===this.url){this.source=this.prepareSource(),r.checkInput(this.source)&&(t.$broadcast("answer:correct"),t.$destroy("answer:correct"),console.log("goodjob..should update"));var e=o.contentDocument;e.open(),e.write(this.source),e.close()}else"http://www.localhost:3000/partial"===this.url?(this.source=this.prepareSource(!0),e=o.contentDocument,e.open(),e.write(this.source),e.close()):(e=o.contentDocument,e.open(),e.write(404),e.close())}};return e}angular.module("app").factory("output",output),output.$inject=["$rootScope","promptFactory","inputFactory"];